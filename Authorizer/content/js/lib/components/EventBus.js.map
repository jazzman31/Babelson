{"version":3,"sources":["EventBus.es6"],"names":[],"mappings":";;;;;AAAO,MAAM,SAAN,CAAgB;;AAEnB,kBAAc;AACV,aAAK,IAAL,GAAY,EAAZ;AACH;;AAED,WAAO,SAAP,EAAkB,EAAlB,EAAsB,EAAtB,EAA0B;AACtB,YAAI,CAAC,KAAK,IAAL,CAAU,SAAV,CAAL,EAA2B;AACvB,iBAAK,IAAL,CAAU,SAAV,IAAuB,EAAvB;AACH;AACD,aAAK,IAAL,CAAU,SAAV,EAAqB,EAArB,IAA2B,EAA3B;AACH;;AAED,YAAQ,SAAR,EAAmB,EAAnB,EAAuB;AACnB,eAAO,KAAK,IAAL,CAAU,SAAV,EAAqB,EAArB,CAAP;AACH;;AAED,SAAK,SAAL,EAAgB,IAAhB,EAAsB;AAClB,aAAK,IAAL,CAAU,SAAV,EAAqB,OAArB,CAA6B,MAAM;AAC/B,eAAG,KAAH,CAAS,MAAT,EAAiB,IAAjB;AACH,SAFD;AAGH;;AArBkB;;QAAV,S,GAAA,S;AAyBN,MAAM,QAAN,CAAe;AAClB,kBAAc;AACV,aAAK,SAAL,GAAiB,IAAI,SAAJ,EAAjB;AACH;;AAED,aAAS,SAAT,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,IAA5B,EAAkC;AAC9B,aAAK,SAAL,CAAe,MAAf,CAAsB,SAAtB,EAAiC,EAAjC,EAAqC,EAArC;;AAEA,YAAI,IAAJ,EAAU;AACN,iBAAK,aAAL,CAAmB,SAAnB,EAA8B,EAA9B;AACH;AACJ;;AAED,iBAAa,SAAb,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC;AAC5B,aAAK,QAAL,CAAc,SAAd,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,IAAjC;AACH;;AAED,kBAAc,SAAd,EAAyB,EAAzB,EAA6B;AACzB,aAAK,SAAL,CAAe,OAAf,CAAuB,SAAvB,EAAkC,EAAlC;AACH;;AAED,YAAQ,SAAR,EAAmB,IAAnB,EAAyB;AACrB,aAAK,SAAL,CAAe,IAAf,CAAoB,SAApB,EAA+B,IAA/B;AACH;AAvBiB;QAAT,Q,GAAA,Q","file":"EventBus.js","sourcesContent":["export class Listeners {\n\n    constructor() {\n        this.list = {};\n    }\n    \n    create(eventName, id, cb) {\n        if (!this.list[eventName]) {\n            this.list[eventName] = {};\n        }\n        this.list[eventName][id] = cb;\n    }\n\n    destroy(eventName, id) {\n        delete this.list[eventName][id];\n    }\n\n    fire(eventName, args) {\n        this.list[eventName].forEach(cb => {\n            cb.apply(window, args);\n        });\n    }\n\n}\n\nexport class EventBus {\n    constructor() {\n        this.listeners = new Listeners();\n    }\n\n    listenTo(eventName, id, cb, once) {\n        this.listeners.create(eventName, id, cb);\n\n        if (once) {\n            this.stopListening(eventName, id);\n        }\n    }\n\n    listenToOnce(eventName, id, cb) {\n        this.listenTo(eventName, id, cb, true);\n    }\n\n    stopListening(eventName, id) {\n        this.listeners.destroy(eventName, id);\n    }\n\n    trigger(eventName, args) {\n        this.listeners.fire(eventName, args);\n    }\n}\n"]}